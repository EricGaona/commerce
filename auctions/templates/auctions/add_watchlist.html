{% extends "auctions/layout.html" %}

{% block title %}Watchlist{% endblock %}

{% block body %}
<div class="container mt-4">
    <h2>{{ listing.title }}</h2>
    <p>{{ listing.description }}</p>
    
    <h5>Current Price: ${{ listing.current_price }}</h5>
    
    <!-- Display the image if provided -->
    {% if listing.image_url %}
    <img src="{{ listing.image_url }}" alt="{{ listing.title }}" class="img-fluid my-3">
    {% endif %}

    <!-- Watchlist toggle button -->
    <form action="{% url 'add_watchlist' listing.id %}" method="post">
        {% csrf_token %}
        {% if in_watchlist %}
            <button type="submit" class="btn btn-danger">Remove from Watchlist</button>
        {% else %}
            <button type="submit" class="btn btn-primary">Add to Watchlist</button>
        {% endif %}
    </form>

    <!-- Link back to the main listing page -->
    <div class="mt-3">
        <a href="{% url 'index' %}" class="btn btn-secondary">Back to Active Listings</a>
    </div>
</div>
{% endblock %}
